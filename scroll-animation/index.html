<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Scroll Animation</title>
  <style>
    body {
      height: 5000px; /* controls scroll length */
      margin: 0;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<canvas id="sequence"></canvas>

<script>
const frameCount = 120; // ðŸ”¥ CHANGE THIS to your total number of frames

// 5-digit padding for frame_00000.png
const currentFrame = index => (
  `images/frame_${index.toString().padStart(5, '0')}.png`
);

const canvas = document.getElementById("sequence");
const context = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const images = [];

// Start from 0 because your sequence starts at frame_00000.png
for (let i = 0; i < frameCount; i++) {
  const img = new Image();
  img.src = currentFrame(i);
  images.push(img);
}

function render() {
  const scrollTop = document.documentElement.scrollTop;
  const maxScrollTop =
    document.documentElement.scrollHeight - window.innerHeight;

  const scrollFraction = scrollTop / maxScrollTop;
  const frameIndex = Math.min(
    frameCount - 1,
    Math.floor(scrollFraction * frameCount)
  );

  context.clearRect(0, 0, canvas.width, canvas.height);
  context.drawImage(images[frameIndex], 0, 0);
}

// Draw first frame immediately
images[0].onload = render;

window.addEventListener("scroll", () => {
  requestAnimationFrame(render);
});
</script>

</body>
</html>