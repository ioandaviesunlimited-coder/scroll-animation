<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Scroll PNG Sequence</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 500vh; /* Controls scroll length (adjust if needed) */
    background: black;
    overflow-x: hidden;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
  }
</style>
</head>

<body>

<canvas id="sequence"></canvas>

<script>
/* ===========================
   SETTINGS
=========================== */

const frameCount = 180; 
// ðŸ”¥ CHANGE THIS to your total number of frames

const imagePath = index =>
  `images/frame_${index.toString().padStart(5, '0')}.png`;

/* ===========================
   SETUP
=========================== */

const canvas = document.getElementById("sequence");
const context = canvas.getContext("2d");

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}

resizeCanvas();
window.addEventListener("resize", resizeCanvas);

/* ===========================
   PRELOAD IMAGES
=========================== */

const images = [];
for (let i = 0; i < frameCount; i++) {
  const img = new Image();
  img.src = imagePath(i);
  images.push(img);
}

/* ===========================
   DRAW IMAGE (COVER MODE)
   - Fills screen
   - Keeps aspect ratio
   - Centers image
=========================== */

function drawImageCover(img) {
  const canvasRatio = canvas.width / canvas.height;
  const imgRatio = img.width / img.height;

  let drawWidth, drawHeight;

  if (canvasRatio > imgRatio) {
    drawWidth = canvas.width;
    drawHeight = canvas.width / imgRatio;
  } else {
    drawHeight = canvas.height;
    drawWidth = canvas.height * imgRatio;
  }

  const x = (canvas.width - drawWidth) / 2;
  const y = (canvas.height - drawHeight) / 2;

  context.clearRect(0, 0, canvas.width, canvas.height);
  context.drawImage(img, x, y, drawWidth, drawHeight);
}

/* ===========================
   SCROLL ANIMATION
=========================== */

function render() {
  const scrollTop = document.documentElement.scrollTop;
  const maxScroll =
    document.documentElement.scrollHeight - window.innerHeight;

  const scrollFraction = scrollTop / maxScroll;

  const frameIndex = Math.min(
    frameCount - 1,
    Math.floor(scrollFraction * frameCount)
  );

  drawImageCover(images[frameIndex]);
}

images[0].onload = render;

window.addEventListener("scroll", () => {
  requestAnimationFrame(render);
});
</script>

</body>
</html>
